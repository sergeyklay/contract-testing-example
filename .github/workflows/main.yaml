name: Test

on: [push]

jobs:
  hello_world_job:

    runs-on: ubuntu-latest
    name: A job to test custom actions

    steps:
      - name: Checkout
        uses: actions/checkout@v3
 
      - name: Hello world action step
        id: hello
        uses: sergeyklay/hello-world-javascript-action@v1.5
        with:
          who-to-greet: 'Mona the Octocat'

      - name: Get the output time
        run: echo "The time was ${{ steps.hello.outputs.time }}"

      - name: Set up JDK 8
        uses: actions/setup-java@v2
        with:
          distribution: adopt
          java-version: '8'
          java-package: jdk

      - name: Setup specmatic
        id: specmatic
        uses: airslate-oss/setup-specmatic@v0.0.29
        with:
          specmatic-version: 0.59.0

      - name: Test
        run: |
          if [ -f /opt/hostedtoolcache/specmatic/0.59.0/x64/specmatic ]; then
            cat /opt/hostedtoolcache/specmatic/0.59.0/x64/specmatic
          fi

          type -a specmatic
          command -v specmatic

          specmatic --version
